/*!  2015-08-05 */
function Team(a){this.id=a,this.members=[]}function generateTeams(a,b){var c=[],d=void 0,e=void 0,f=void 0;if(void 0!=b.numTeams)f=b.numTeams,d=Math.floor(a.length/f);else{if(void 0==b.membersPerTeam)return null;d=b.membersPerTeam,f=Math.floor(a.length/d)}e=a.length%f;for(var g=0;f>g;g++){for(var h=new Team(g+1),i=0;d>i;i++)h.members.push(a.shift());c.push(h)}for(var j=0;e>j;j++)c[j].members.push(a.shift());return console.log("Num Teams: "+f+" -- Extra Members: "+e),c}function shuffle(a){for(var b,c,d=a.slice(),e=d.length;e;)c=Math.floor(Math.random()*e--),b=d[e],d[e]=d[c],d[c]=b;return d}function appendTeams(a){$.each(a,function(){var a=buildTeam(this);$(".team-wrapper").append(a)})}function buildTeam(a){for(var b=$("<div/>",{"class":"team"}),c=$("<div/>",{"class":"team-heading"}),d=$("<div/>",{"class":"team-body"}),e=$("<h2/>",{text:"Team "+a.id}),f=$("<ul/>",{"class":"member-list"}),g=a.members.length,h=0;g>h;h++)f.append($("<li/>",{text:a.members[h]}));return c.append(e),d.append(f),b.append(c),b.append(d),b}function sexyReveal(){var a=750;$(".team").each(function(){$(this).fadeIn(a+=750,function(){var a=500;$(this).find("li").each(function(){$(this).fadeIn(a+=500)})}).css("display","inline-block")})}function requestStudentData(){$.ajax({type:"GET",url:"/data",success:function(a){console.log(a),students=a.students,console.log(students)},error:function(){console.log("Error ;_;")}})}function addButtons(a){for(var b=2;11>=b;b++){var c=$("<button/>",{text:b});2===b&&c.addClass("activeButton"),a.append(c)}}var students=[];$(document).ready(function(){var a=$("#buttonList");requestStudentData(),addButtons(a),a.on("click","button",function(){$(".activeButton").removeClass("activeButton"),$(this).addClass("activeButton")}),$("#generateButton").on("click",function(){if($(".team-wrapper").html(""),students.length>2){var a=shuffle(students),b=parseInt($(".activeButton").text()),c=generateTeams(a,{numTeams:b});appendTeams(c),sexyReveal()}}),$("#altGenerateButton").on("click",function(){if($(".team-wrapper").html(""),students.length>2){var a=shuffle(students),b=parseInt($(".activeButton").text()),c=generateTeams(a,{membersPerTeam:b});appendTeams(c),sexyReveal()}});var b=new Team(1);b.members=["Bob","Brandon","Cat","Cena"]});